[gd_scene load_steps=32 format=3 uid="uid://b1wngrqj1pdxk"]

[ext_resource type="PackedScene" uid="uid://coqntotb1dwo0" path="res://scenes/nodes/sc_Player.tscn" id="1_gl36s"]
[ext_resource type="Texture2D" uid="uid://cexpb4n7scmad" path="res://data/sprites/sp_clouds.png" id="3_xnubb"]
[ext_resource type="Script" path="res://src/Pot/gd_Po_maint.gd" id="4_b8ery"]
[ext_resource type="Script" path="res://src/Sprite/gd_Sprite3D_increase_offse.gd" id="4_s063o"]
[ext_resource type="ArrayMesh" uid="uid://dmgp3bn00m12v" path="res://data/objects/cube.obj" id="7_lthc4"]
[ext_resource type="Texture2D" uid="uid://lb1j2ael3yqt" path="res://data/sprites/sp_tile.png" id="7_yoobx"]
[ext_resource type="ArrayMesh" uid="uid://cu3pp576vecyx" path="res://data/objects/painting.obj" id="7_yvsv1"]
[ext_resource type="ArrayMesh" uid="uid://byo0seimef7hu" path="res://data/objects/pot.obj" id="8_at02e"]
[ext_resource type="ArrayMesh" uid="uid://c738m2h3r31pn" path="res://data/objects/table.obj" id="9_6qo2y"]
[ext_resource type="Texture2D" uid="uid://cobplgk365egp" path="res://data/sprites/sp_cheese.png" id="9_of2x5"]
[ext_resource type="Script" path="res://src/PSXPhysicsObject/gd_PXSPhysicsObjec_main.gd" id="10_jnwsa"]
[ext_resource type="ArrayMesh" uid="uid://dnlv0vm1l0mqc" path="res://data/objects/thingy.obj" id="14_uffx4"]
[ext_resource type="ArrayMesh" uid="uid://b0rvb5n4gi5uo" path="res://data/objects/little_house.obj" id="15_wds0w"]
[ext_resource type="Texture2D" uid="uid://csce4bvxi6yl2" path="res://data/sprites/sp_rat_hole.png" id="15_yutoa"]
[ext_resource type="Script" path="res://src/Area3D/gd_Area3D_trade.gd" id="16_tildx"]

[sub_resource type="BoxShape3D" id="BoxShape3D_1kcvo"]
size = Vector3(1.9, 1.9, 1)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_up2s8"]
height = 1.6
radius = 2.5

[sub_resource type="CylinderShape3D" id="CylinderShape3D_g6lub"]
height = 0.6
radius = 0.25

[sub_resource type="BoxShape3D" id="BoxShape3D_ky5tw"]
size = Vector3(0.25, 2, 2)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_yxypi"]
height = 0.5
radius = 0.2

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_lef6p"]
sky_top_color = Color(0.341176, 0.4, 0.654902, 1)
ground_bottom_color = Color(0.929412, 0.909804, 0.882353, 1)
sun_angle_max = 7.0
sun_curve = 6.11788

[sub_resource type="Sky" id="Sky_eflsi"]
sky_material = SubResource("ProceduralSkyMaterial_lef6p")

[sub_resource type="Environment" id="Environment_84ivi"]
background_mode = 2
sky = SubResource("Sky_eflsi")

[sub_resource type="QuadMesh" id="QuadMesh_ct7j2"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8qdyf"]
transparency = 1
albedo_texture = ExtResource("3_xnubb")
uv1_scale = Vector3(3.321, 3.321, 3.321)
uv1_triplanar = true
uv2_triplanar = true
texture_filter = 0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qo11t"]
albedo_texture = ExtResource("7_yoobx")
uv1_triplanar = true
uv2_triplanar = true
texture_filter = 0

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_0gh7y"]
data = PackedVector3Array(-8, 16, -8, -2.835, 16, -2.835, -8, 16, 8, -8, 16, 8, -2.835, 16, -2.835, -2.835, 16, 2.835, 8, 16, 8, 2.835, 16, 2.835, 8, 16, -8, 8, 16, -8, 2.835, 16, 2.835, 2.835, 16, -2.835, -8, 16, 8, -8, 0, 8, -8, 3, 0.9243, -8, 3, 0.9243, -8, 0, 8, -8, 3, 1, -8, 3, 1, -8, 0, 8, -8, 1, 1, -8, 0, -8, -8, 1, -1, -8, 0, 8, -8, 0, 8, -8, 1, -1, -8, 1, 1, 8, 0, -8, -8, 0, -8, 8, 0, 8, 8, 0, 8, -8, 0, -8, -8, 0, 8, 8, 16, -8, 8, 0, -8, 8, 3, -1, 8, 3, -1, 8, 0, -8, 8, 1, -1, 8, 0, 8, 8, 1, 1, 8, 0, -8, 8, 0, -8, 8, 1, 1, 8, 1, -1, -8, 16, -8, -8, 0, -8, -1, 3, -8, -1, 3, -8, -8, 0, -8, -1, 1, -8, -8, 0, -8, 8, 0, -8, -1, 1, -8, -1, 1, -8, 8, 0, -8, 1, 1, -8, 2.835, 15.4731, 2.835, -2.835, 15.4731, 2.835, 7.4731, 15.4731, 7.4731, 7.4731, 15.4731, 7.4731, -2.835, 15.4731, 2.835, -7.4731, 15.4731, 7.4731, -7.4731, 15.4731, 7.4731, -2.835, 15.4731, 2.835, -7.4731, 15.4731, -7.4731, -7.4731, 15.4731, -7.4731, -2.835, 15.4731, 2.835, -2.835, 15.4731, -2.835, -2.835, 15.4731, -2.835, 2.835, 15.4731, -2.835, -7.4731, 15.4731, -7.4731, -7.4731, 15.4731, -7.4731, 2.835, 15.4731, -2.835, 7.4731, 15.4731, -7.4731, 7.4731, 15.4731, -7.4731, 2.835, 15.4731, -2.835, 7.4731, 15.4731, 7.4731, 7.4731, 15.4731, 7.4731, 2.835, 15.4731, -2.835, 2.835, 15.4731, 2.835, -2.221, 0.9108, 7.4731, -1, 1, 7.4731, -7.4731, 0.5269, 7.4731, -7.4731, 0.5269, 7.4731, -1, 1, 7.4731, -7.4731, 15.4731, 7.4731, -7.4731, 15.4731, 7.4731, -1, 1, 7.4731, -1, 3, 7.4731, 3.6362, 0.8073, 7.4731, 1, 1, 7.4731, 3.7113, 0.5269, 7.4731, 3.7113, 0.5269, 7.4731, 1, 1, 7.4731, -2.0703, 0.5269, 7.4731, -2.0703, 0.5269, 7.4731, 1, 1, 7.4731, -2.221, 0.9108, 7.4731, -2.221, 0.9108, 7.4731, 1, 1, 7.4731, -1, 1, 7.4731, -7.4731, 0.5269, 7.4731, -7.4731, 1, 1, -7.4731, 0.5269, -7.4731, -7.4731, 0.5269, -7.4731, -7.4731, 1, 1, -7.4731, 1, -1, -7.4731, 0.5269, -7.4731, -7.4731, 1, -1, -7.4731, 15.4731, -7.4731, -7.4731, 15.4731, -7.4731, -7.4731, 1, -1, -7.4731, 3, -1, -7.4731, 0.5269, 7.4731, -7.4731, 0.5269, -7.4731, -2.0703, 0.5269, 7.4731, -2.0703, 0.5269, 7.4731, -7.4731, 0.5269, -7.4731, 3.7113, 0.5269, 7.4731, 3.7113, 0.5269, 7.4731, -7.4731, 0.5269, -7.4731, 7.4731, 0.5269, 7.4731, 7.4731, 0.5269, 7.4731, -7.4731, 0.5269, -7.4731, 7.4731, 0.5269, -7.4731, 7.4731, 0.5269, 7.4731, 7.4731, 1, 1, 7.4731, 15.4731, 7.4731, 7.4731, 15.4731, 7.4731, 7.4731, 1, 1, 7.4731, 3, 1, 7.4731, 0.5269, -7.4731, 7.4731, 1, -1, 7.4731, 0.5269, 7.4731, 7.4731, 0.5269, 7.4731, 7.4731, 1, -1, 7.4731, 1, 1, -7.4731, 0.5269, -7.4731, -1, 1, -7.4731, 7.4731, 0.5269, -7.4731, 7.4731, 0.5269, -7.4731, -1, 1, -7.4731, 1, 1, -7.4731, 7.4731, 0.5269, -7.4731, 1, 1, -7.4731, 7.4731, 15.4731, -7.4731, 7.4731, 15.4731, -7.4731, 1, 1, -7.4731, 1, 3, -7.4731, 2.835, 16, 2.835, -2.835, 16, 2.835, 2.835, 15.4731, 2.835, 2.835, 15.4731, 2.835, -2.835, 16, 2.835, -2.835, 15.4731, 2.835, -2.835, 16, -2.835, -2.835, 15.4731, -2.835, -2.835, 16, 2.835, -2.835, 16, 2.835, -2.835, 15.4731, -2.835, -2.835, 15.4731, 2.835, 2.835, 16, -2.835, 2.835, 16, 2.835, 2.835, 15.4731, -2.835, 2.835, 15.4731, -2.835, 2.835, 16, 2.835, 2.835, 15.4731, 2.835, 2.835, 16, -2.835, 2.835, 15.4731, -2.835, -2.835, 16, -2.835, -2.835, 16, -2.835, 2.835, 15.4731, -2.835, -2.835, 15.4731, -2.835, 8, 16, -8, 2.835, 16, -2.835, -8, 16, -8, -8, 16, -8, 2.835, 16, -2.835, -2.835, 16, -2.835, -8, 16, 8, -2.835, 16, 2.835, 8, 16, 8, 8, 16, 8, -2.835, 16, 2.835, 2.835, 16, 2.835, -8, 0, 8, -1, 1, 8, 8, 0, 8, 8, 0, 8, -1, 1, 8, 1, 1, 8, 8, 0, 8, 1, 1, 8, 8, 16, 8, 8, 16, 8, 1, 1, 8, 1, 3, 8, 1, 3, -8, -1, 3, -8, 1, 3, -7.4731, 1, 3, -7.4731, -1, 3, -8, -1, 3, -7.4731, 1, 1, -8, 1, 1, -7.4731, -1, 1, -8, -1, 1, -8, 1, 1, -7.4731, -1, 1, -7.4731, -1, 1, -8, -1, 1, -7.4731, -1, 3, -8, -1, 3, -8, -1, 1, -7.4731, -1, 3, -7.4731, 1, 3, -8, 1, 3, -7.4731, 1, 1, -8, 1, 1, -8, 1, 3, -7.4731, 1, 1, -7.4731, -7.4731, 3, -1, -8, 3, -1, -7.4731, 3, 0.9466, -7.4731, 3, 0.9466, -8, 3, -1, -8, 3, 0.9243, -8, 1, 1, -8, 1, -1, -7.4731, 1, 1, -7.4731, 1, 1, -8, 1, -1, -7.4731, 1, -1, -8, 1, 1, -7.4731, 1, 1, -8, 3, 1, -8, 3, 1, -7.4731, 1, 1, -7.4731, 3, 1, -8, 1, -1, -8, 3, -1, -7.4731, 1, -1, -7.4731, 1, -1, -8, 3, -1, -7.4731, 3, -1, 8, 3, -1, 7.4731, 3, -1, 8, 3, 1, 8, 3, 1, 7.4731, 3, -1, 7.4731, 3, 1, 8, 1, -1, 8, 1, 1, 7.4731, 1, -1, 7.4731, 1, -1, 8, 1, 1, 7.4731, 1, 1, 8, 1, -1, 7.4731, 1, -1, 8, 3, -1, 8, 3, -1, 7.4731, 1, -1, 7.4731, 3, -1, 8, 3, 1, 7.4731, 3, 1, 8, 1, 1, 8, 1, 1, 7.4731, 3, 1, 7.4731, 1, 1, 1, 3, 7.4731, -1, 3, 7.4731, 1, 3, 8, 1, 3, 8, -1, 3, 7.4731, -1, 3, 8, 1, 1, 7.4731, 1, 1, 8, -1, 1, 7.4731, -1, 1, 7.4731, 1, 1, 8, -1, 1, 8, 1, 3, 7.4731, 1, 3, 8, 1, 1, 7.4731, 1, 1, 7.4731, 1, 3, 8, 1, 1, 8, -1, 1, 7.4731, -1, 1, 8, -1, 3, 7.4731, -1, 3, 7.4731, -1, 1, 8, -1, 3, 8, -7.4731, 3, 0.9466, -8, 3, 0.9243, -7.4731, 3, 1, -7.4731, 3, 1, -8, 3, 0.9243, -8, 3, 1, -8, 16, 8, -8, 3, 0.9243, -8, 16, -8, -8, 16, -8, -8, 3, 0.9243, -8, 3, -1, -8, 16, -8, -8, 3, -1, -8, 0, -8, -8, 0, -8, -8, 3, -1, -8, 1, -1, -8, 16, -8, -1, 3, -8, 8, 16, -8, 8, 16, -8, -1, 3, -8, 1, 3, -8, 8, 16, -8, 1, 3, -8, 8, 0, -8, 8, 0, -8, 1, 3, -8, 1, 1, -8, 8, 16, -8, 8, 3, -1, 8, 16, 8, 8, 16, 8, 8, 3, -1, 8, 3, 1, 8, 16, 8, 8, 3, 1, 8, 0, 8, 8, 0, 8, 8, 3, 1, 8, 1, 1, 8, 16, 8, 1, 3, 8, -8, 16, 8, -8, 16, 8, 1, 3, 8, -1, 3, 8, -8, 16, 8, -1, 3, 8, -8, 0, 8, -8, 0, 8, -1, 3, 8, -1, 1, 8, -2.0703, 0.5269, 7.4731, -2.221, 0.9108, 7.4731, -7.4731, 0.5269, 7.4731, 7.4731, 15.4731, -7.4731, 1, 3, -7.4731, -7.4731, 15.4731, -7.4731, -7.4731, 15.4731, -7.4731, 1, 3, -7.4731, -1, 3, -7.4731, -7.4731, 15.4731, -7.4731, -1, 3, -7.4731, -7.4731, 0.5269, -7.4731, -7.4731, 0.5269, -7.4731, -1, 3, -7.4731, -1, 1, -7.4731, 3.6362, 0.8073, 7.4731, 3.7113, 0.5269, 7.4731, 7.4731, 0.5269, 7.4731, -7.4731, 15.4731, -7.4731, -7.4731, 3, -1, -7.4731, 15.4731, 7.4731, -7.4731, 15.4731, 7.4731, -7.4731, 3, -1, -7.4731, 3, 1, -7.4731, 3, 1, -7.4731, 3, -1, -7.4731, 3, 0.9466, -7.4731, 15.4731, 7.4731, -7.4731, 3, 1, -7.4731, 0.5269, 7.4731, -7.4731, 0.5269, 7.4731, -7.4731, 3, 1, -7.4731, 1, 1, -7.4731, 15.4731, 7.4731, -1, 3, 7.4731, 7.4731, 15.4731, 7.4731, 7.4731, 15.4731, 7.4731, -1, 3, 7.4731, 1, 3, 7.4731, 7.4731, 15.4731, 7.4731, 1, 3, 7.4731, 7.4731, 0.5269, 7.4731, 7.4731, 0.5269, 7.4731, 1, 3, 7.4731, 3.6362, 0.8073, 7.4731, 3.6362, 0.8073, 7.4731, 1, 3, 7.4731, 1, 1, 7.4731, 7.4731, 15.4731, 7.4731, 7.4731, 3, 1, 7.4731, 15.4731, -7.4731, 7.4731, 15.4731, -7.4731, 7.4731, 3, 1, 7.4731, 3, -1, 7.4731, 15.4731, -7.4731, 7.4731, 3, -1, 7.4731, 0.5269, -7.4731, 7.4731, 0.5269, -7.4731, 7.4731, 3, -1, 7.4731, 1, -1)

[sub_resource type="BoxShape3D" id="BoxShape3D_dkf34"]

[sub_resource type="BoxShape3D" id="BoxShape3D_70bct"]
size = Vector3(1.64, 0.187, 5.601)

[sub_resource type="BoxShape3D" id="BoxShape3D_16dqg"]

[sub_resource type="BoxShape3D" id="BoxShape3D_ivxm3"]
size = Vector3(2, 2, 2)

[node name="Node3D" type="Node3D"]

[node name="CharacterBody3D" parent="." instance=ExtResource("1_gl36s")]

[node name="PhysicsObjects" type="Node3D" parent="."]

[node name="FakeWall" type="CharacterBody3D" parent="PhysicsObjects"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 8)
script = ExtResource("10_jnwsa")
physics = false

[node name="CSGBox3D" type="CSGBox3D" parent="PhysicsObjects/FakeWall"]
size = Vector3(2, 2, 1)

[node name="CollisionShape3D" type="CollisionShape3D" parent="PhysicsObjects/FakeWall"]
shape = SubResource("BoxShape3D_1kcvo")

[node name="Table" type="CharacterBody3D" parent="PhysicsObjects"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 16)
script = ExtResource("10_jnwsa")
bounciness = 0.0
mass = 40.0
physics = false

[node name="Table" type="MeshInstance3D" parent="PhysicsObjects/Table"]
mesh = ExtResource("9_6qo2y")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="PhysicsObjects/Table"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.286, 0)
shape = SubResource("CylinderShape3D_up2s8")

[node name="Pot" type="CharacterBody3D" parent="PhysicsObjects"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4, 16)
script = ExtResource("4_b8ery")

[node name="Pot" type="MeshInstance3D" parent="PhysicsObjects/Pot"]
mesh = ExtResource("8_at02e")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="PhysicsObjects/Pot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.3, 0)
shape = SubResource("CylinderShape3D_g6lub")

[node name="Painting" type="CharacterBody3D" parent="PhysicsObjects"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.342, 3, 16)
script = ExtResource("10_jnwsa")
physics = false

[node name="Painting" type="MeshInstance3D" parent="PhysicsObjects/Painting"]
mesh = ExtResource("7_yvsv1")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="PhysicsObjects/Painting"]
shape = SubResource("BoxShape3D_ky5tw")

[node name="Cheese" type="CharacterBody3D" parent="PhysicsObjects"]
transform = Transform3D(2.98023e-08, 0, 1, 0, 1, 0, -1, 0, 2.98023e-08, 7.4, 3, 16)
script = ExtResource("10_jnwsa")
physics = false

[node name="Sprite3D" type="Sprite3D" parent="PhysicsObjects/Cheese"]
pixel_size = 0.02
texture_filter = 0
texture = ExtResource("9_of2x5")

[node name="CollisionShape3D" type="CollisionShape3D" parent="PhysicsObjects/Cheese"]
shape = SubResource("CylinderShape3D_yxypi")

[node name="World" type="Node3D" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="World"]
environment = SubResource("Environment_84ivi")

[node name="CSGMesh3D" type="CSGMesh3D" parent="World"]
transform = Transform3D(-2245.8, -3.89351e-12, 3.96621e-08, -8.90732e-05, 9.81672e-05, -1, 0, -2245.8, -4.37115e-08, 0, 327, 0)
mesh = SubResource("QuadMesh_ct7j2")
material = SubResource("StandardMaterial3D_8qdyf")
script = ExtResource("4_s063o")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="World"]
transform = Transform3D(0.662076, 0.722591, -0.198791, 0.00579153, 0.260313, 0.965507, 0.749415, -0.64039, 0.168162, 0, 4.08608, 0)
shadow_normal_bias = 4.335
shadow_blur = 10.0
directional_shadow_max_distance = 75.4

[node name="StaticBody3D" type="StaticBody3D" parent="."]

[node name="Cube" type="MeshInstance3D" parent="StaticBody3D"]
material_override = SubResource("StandardMaterial3D_qo11t")
mesh = ExtResource("7_lthc4")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_0gh7y")

[node name="StaticBody3D2" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 16)

[node name="Cube" type="MeshInstance3D" parent="StaticBody3D2"]
material_override = SubResource("StandardMaterial3D_qo11t")
mesh = ExtResource("7_lthc4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D2"]
shape = SubResource("ConcavePolygonShape3D_0gh7y")

[node name="RatHole" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 0.825, 23.473)
pixel_size = 0.02
texture_filter = 0
texture = ExtResource("15_yutoa")

[node name="Area3D" type="Area3D" parent="RatHole"]
script = ExtResource("16_tildx")
target = &"Cheese"
trade = "res://scenes/nodes/Items/sc_BrokenKey_piece2.tscn"

[node name="CollisionShape3D" type="CollisionShape3D" parent="RatHole/Area3D"]
shape = SubResource("BoxShape3D_dkf34")

[node name="StaticBody3D3" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 3.5, 16)

[node name="Thingy" type="MeshInstance3D" parent="StaticBody3D3"]
mesh = ExtResource("14_uffx4")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D3"]
shape = SubResource("BoxShape3D_70bct")

[node name="LittleHouse" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.753, 4.606, 14.5)
script = ExtResource("10_jnwsa")

[node name="LittleHouse" type="MeshInstance3D" parent="LittleHouse"]
mesh = ExtResource("15_wds0w")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="LittleHouse"]
shape = SubResource("BoxShape3D_16dqg")

[node name="Tradeable" type="Area3D" parent="LittleHouse"]
script = ExtResource("16_tildx")
target = &"Key"
trade = "res://scenes/nodes/Items/sc_Key.tscn"
destroy_other = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="LittleHouse/Tradeable"]
shape = SubResource("BoxShape3D_ivxm3")
